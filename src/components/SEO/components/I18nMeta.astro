---
import { localizePath, getPurePathname } from '@/lib/i18n-utils';

const { siteUrl, i18n } = Astro.props;

const pathname = Astro.request.url.pathname;

const purePath = getPurePathname(pathname);
---

{Object.keys(i18n.locales).map((code) => (
  <link rel="alternate" hrefLang={i18n.locales[code]!.htmlLang} href={`${siteUrl}${localizePath(purePath, code)}`} />
))}

<link rel="alternate" hrefLang="x-default" href={`${siteUrl}${purePath}`} />
