---
import getCardSchema from '../../../../lib/getCardSchema';
import ReadMore from './ReadMore.astro';
const {
  post: { cover, title, excerpt, headline, metaDescription, datePublished, dateModified, authors, to },
  readMore,
} = Astro.props;
---

<article class="bg-gray-50 rounded hover:shadow">
  <script type="application/ld+json">
    {
      JSON.stringify(
        getCardSchema({
          // TODO:
          locale: '',
          organizationName: '',
          siteUrl: '',
          siteLogo: '',
          to,
          title,
          headline: headline || metaDescription,
          cover,
          datePublished,
          dateModified,
          authors,
          pageType: 'BlogPosting',
        })
      )
    }
  </script>
  {cover ? (
    <a href={to}>
      <img class="h-auto w-full rounded-t" src={cover.sm} alt={cover.alt} title={cover.title} />
    </a>
  ) : null}
  <div class="p-4">
    <a href={to} class="color-text focus:no-underline hover:no-underline active:no-underline">
      <h2 class="m-0 text-lg font-body font-semibold normal-case text-left">{title}</h2>
    </a>
    <p class="pt-2">{excerpt}</p>
    <ReadMore {to} title={readMore} />
  </div>
</article>
